# DNS 因特网的目录服务
因特网上的主机和人类一样，可以使用很多方式进行标识。一种方法是用它的主机名（hostname），如 www.baidu.com，这些名字便于记忆。
然而，主机名几乎没有提供关于主机在网络中的信息。所以，主机也可以使用 IP 地址进行标识。

### DNS 提供的服务
我们知道识别主机可以有两种方式：主机名和 IP 地址。人们喜欢便于记忆的主机名，而路由器喜欢定长的、有层次结构的 IP 地址。
我们需要能进行主机名到IP地址转换的目录服务，也就是域名系统（Domain Name System， DNS）。DNS是：
* 一个由分层的DNS服务器实现的分布式数据库
* 使主机能够查询分布式数据库的应用层协议

#### 实践原则
>DNS 与 HTTP、FTP、SMTP 协议一样，是一个应用层协议，原因在于：1、使用客户-服务器模式运行在通信的端系统之间； 2、在通信的端系统之间通过端到端协议来传输DNS报文。

>DNS通过采用了位于网络边缘的客户和服务器，实现了关键的名字到地址转换功能。

看一个例子，用户发送一个HTTP请求报文到Web服务器 www.baidu.com/search&key=dog，则用户首先应该获取改服务器的IP地址：
* 用户主机上运行着DNS应用的客户端
* 浏览器从上述URL抽取出主机名：www.baidu.com，并将主机名传给DNS应用的客户端
* DNS客户端向DNS 服务器发送一个包含主机名的请求
* DNS 客户端最终会收到一份回答报文，其中含有目标主机的IP地址
* 浏览器向改IP地址80端口的HTTP服务器进程发起一个TCP连接

可以注意到，DNS给使用它的因特网应用带来了额外的延时，但幸运的是，想要获得的IP地址通常就缓存在“附近的”DNS服务器中。

#### DNS提供的其他服务
* 主机别名：有着复制主机名的主机能拥有一个或多个别名，如 www.baidu.com 和 baidu.com。应用程序可以调用DNS来获取主机别名对应的主机名和IP地址。
也就是说，多个域名可以映射到同一个IP地址
* 邮件服务器别名：类似于主机别名
* 负载分配：繁忙的站点被冗余地分布在多台服务器上，每台服务器运行在不同的端系统上，并且有不同的IP地址，所以同一个规范主机名可能对应了多个IP地址。DNS数据库中储着这这些IP地址集合。
当客户对改域名发起DNS请求时，该服务器用IP地址的整个集合进行响应，但在每个回答中循环这些地址的次序响应。因为客户通常总是用IP地址排在最前面的服务器发送HTTP报文，所以DNS就在所以这些冗余的服务器之间循环分配了负载。
